<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Movie List</title>
  <style>
    body { font-family: Arial, sans-serif; margin: 20px; }
    ul { list-style: none; padding: 0; }
    li { padding: 8px; cursor: pointer; border-bottom: 1px solid #ccc; }
    li:hover { background: #f0f0f0; }
    video { margin-top: 20px; width: 640px; height: 360px; background: black; }
  </style>
</head>
<body>
  <h1>Movies</h1>
  <ul id="movie-list"></ul>

  <video id="player" controls></video>

  <script>
    const API = "https://localhost:7282/api"; // ðŸ‘‰ Ä‘á»•i thÃ nh API backend cá»§a báº¡n

    async function loadMovies() {
      try {
        const res = await fetch(`${API}/Movies`);
        if (!res.ok) throw new Error("Failed to load movies");
        const movies = await res.json();

        const list = document.getElementById("movie-list");
        list.innerHTML = "";

        movies.forEach(movie => {
          const li = document.createElement("li");
          li.textContent = movie.title;
          li.addEventListener("click", () => {
            playMovie(movie.videoUrl);
          });
          list.appendChild(li);
        });
      } catch (err) {
        console.error(err);
      }
    }

    function playMovie(url) {
      const player = document.getElementById("player");
      player.src = url;
      player.play();
    }

    loadMovies();
  </script>
</body>
</html>
